<!doctype html>
<html lang="pt-BR" data-bs-theme="dark">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{{ post.titulo }}</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
  </head>
  <body class="bg-dark text-light">
    
    <div class="container my-5">
      <div class="card bg-body-tertiary shadow-sm mb-4">
        <div class="card-body">
          <div class="d-flex justify-content-between align-items-center mb-2">
            <h1 class="h3 mb-0">{{ post.titulo }}</h1>
            <a href="/" class="btn btn-outline-light btn-sm">Voltar</a>
          </div>

          <p class="text-secondary small mb-4">{{ post.data }}</p>

          <p class="fs-6">{{ post.texto }}</p>
        </div>
      </div>

      <div class="card bg-body-tertiary shadow-sm mb-4">
        <div class="card-body">
          <h4 class="mb-3">Comentários</h4>

          <form
            action="{% url 'add_comentario' post.id %}"
            method="post"
            class="mb-4"
          >
            {% csrf_token %}
            <div class="mb-2">
              <input
                autocomplete="off"
                type="text"
                name="texto"
                class="form-control"
                placeholder="Escreva seu comentário aqui..."
              />
            </div>
            <button type="submit" class="btn btn-success btn-sm">Enviar</button>
          </form>

          {% for comentario in comentarios %}
          <div class="border border-secondary rounded p-3 mb-3">
            <div class="d-flex justify-content-between align-items-start">
              <p class="mb-1">{{ comentario.texto }}</p>

              {% load static %}
              <a href="{% url 'deletar_comentario' post.id comentario.id %}">
                <img
                  src="{% static 'icons/trash-can.ico' %}"
                  alt="Deletar"
                  style="width: 18px; height: 18px; filter: invert(1)"
                />
              </a>
            </div>

            <small class="text-secondary"> {{ comentario.data }} </small>
          </div>
          {% empty %}
          <p class="text-secondary">Nenhum comentário ainda.</p>
          {% endfor %}
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
